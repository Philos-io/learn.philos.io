<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>React JS | React Webpack cookbook</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.1.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="./Configuring-react-js.html" />
    
    
    <link rel="prev" href="./Requiring-files.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="2" data-basepath="." data-revision="Mon Jun 22 2015 22:21:54 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Introduction-to-Webpack.html">
            
                
                    <a href="./Introduction-to-Webpack.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Webpack
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="Getting-started.html">
            
                
                    <a href="./Getting-started.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Getting started
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Running-a-workflow.html">
            
                
                    <a href="./Running-a-workflow.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Running a workflow
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Automatic-browser-refresh.html">
            
                
                    <a href="./Automatic-browser-refresh.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Automatic browser refresh
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Requiring-files.html">
            
                
                    <a href="./Requiring-files.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        Requiring files
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="2" data-path="Introduction-to-React-JS.html">
            
                
                    <a href="./Introduction-to-React-JS.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        React JS
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="Configuring-react-js.html">
            
                
                    <a href="./Configuring-react-js.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Configuring React JS
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Optimizing-rebundling.html">
            
                
                    <a href="./Optimizing-rebundling.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Optimizing rebundling
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Type-checking-with-flow.html">
            
                
                    <a href="./Type-checking-with-flow.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Flow
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="CSS-Fonts-Images.html">
            
            <span><b>3.</b> CSS, Fonts and Images</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Loading-CSS.html">
            
                
                    <a href="./Loading-CSS.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Loading CSS
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Automatic-CSS-refresh.html">
            
                
                    <a href="./Automatic-CSS-refresh.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Automatic CSS refresh
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Loading-LESS-or-SASS.html">
            
                
                    <a href="./Loading-LESS-or-SASS.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Loading LESS or SASS
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="Inlining-images.html">
            
                
                    <a href="./Inlining-images.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Inlining images
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="Inlining-fonts.html">
            
                
                    <a href="./Inlining-fonts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Inlining fonts
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Deployment-strategies.html">
            
            <span><b>4.</b> Deployment strategies</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Structuring-configuration.html">
            
                
                    <a href="./Structuring-configuration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Deploy to production
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Single-bundle.html">
            
                
                    <a href="./Single-bundle.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Single bundle
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Split-app-and-vendors.html">
            
                
                    <a href="./Split-app-and-vendors.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Split app and vendors
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="Multiple-entry-points.html">
            
                
                    <a href="./Multiple-entry-points.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Multiple entry points
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="Lazy-loaded-entry-points.html">
            
                
                    <a href="./Lazy-loaded-entry-points.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Lazy loaded entry points
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="Isomorphic-app.html">
            
                
                    <a href="./Isomorphic-app.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Isomorphic app
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Wing-It-Like-a-Pro.html">
            
                
                    <a href="./Wing-It-Like-a-Pro.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Wing It Like A Pro
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="Optimizing-development.html">
            
                
                    <a href="./Optimizing-development.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Optimizing development
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="Hot-loading-components.html">
            
                
                    <a href="./Hot-loading-components.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Hot loading components
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="Javascript-next.html">
            
                
                    <a href="./Javascript-next.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Go JavaScript next
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="Optimizing-caching.html">
            
                
                    <a href="./Optimizing-caching.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Optimizing caching
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="Matchers.html">
            
                
                    <a href="./Matchers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Matchers
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="Lazy-loading-entry-points.html">
            
            <span><b>5.6.</b> Lazy loading entry points</span>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="Creating-a-common-bundle.html">
            
            <span><b>5.7.</b> Creating a common chunk</span>
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="Understanding-chunks.html">
            
                
                    <a href="./Understanding-chunks.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        Chunks
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="Authoring-libraries.html">
            
                
                    <a href="./Authoring-libraries.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.9.</b>
                        
                        Authoring libraries
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >React Webpack cookbook</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <p>I remember when I saw React the first time around the time it was announced I was skeptical. Particularly mixing some sort of HTML within your code seemed against good conventions. It just felt like a &quot;bad idea&quot;&#xAE;.</p>
<p>But that&apos;s what React and similar approaches are doing. They challenge some of the conventions and replace them with something more palatable. Sometimes a bigger change in thinking is needed for you to move forward as a developer. That&apos;s what React did for me. It takes some powerful ideas from the world of functional programming and then builds on top of those.</p>
<h2 id="basic-features">Basic Features</h2>
<p>Before you can understand React and how it changes web development, there are a few things you should know about it. React itself won&apos;t be enough. It solves only the problem of views. You still need to complement it with something else. But that&apos;s a good thing.</p>
<p>The greatest and worst feature of frameworks is that they sort of cage you in. As long as you are doing what they expect you to do within their boundaries, everything is fine. It is only after you start to reach beyond those boundaries that problems begin to appear. In a library driven approach you aren&apos;t as bound. Initially you might not be as fast or efficient but over time as problems become harder, you will have more choices available.</p>
<h3 id="basics-of-jsx">Basics of JSX</h3>
<p>React provides a component centric approach to frontend development. You will design your application as smaller components, each of which has it own purpose. Taken to the extreme a component may contain its logic, layout and basic styling. To give you an example of JSX:</p>
<pre><code class="lang-html">...
<span class="hljs-tag">&lt;<span class="hljs-title">TodoItem</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;urgent&apos;</span> <span class="hljs-attribute">owner</span>=<span class="hljs-value">{owner}</span> <span class="hljs-attribute">task</span>=<span class="hljs-value">&apos;Make a dinner&apos;</span> /&gt;</span>
...
</code></pre>
<p>You can see a couple of basic features of JSX here. Instead of using <code>class</code>, we&apos;ll use the JavaScript equivalent. In addition we have defined a couple of custom properties in form of <code>owner</code> and <code>task</code>. <code>owner</code> is something that is injected from a variable named <code>owner</code> that&apos;s within the same scope as our JSX. For <code>task</code> we provide a fixed value.</p>
<p>In practice you would most likely structure this a little differently to fit your data model better. That goes a little beyond basic React, though.</p>
<p>We can mix normal JavaScript code within those {}&apos;s. We can use this idea to render a list of <code>TodoItem</code>s like this (ES syntax):</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>{todoItems.map((todoItem, i) =&gt;
    <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">{&apos;todoitem&apos;</span> + <span class="hljs-attribute">i</span>}&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">TodoItem</span> <span class="hljs-attribute">owner</span>=<span class="hljs-value">{todoItem.owner}</span> <span class="hljs-attribute">task</span>=<span class="hljs-value">{todoItem.task}</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
)}<span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
</code></pre>
<p>You probably noticed something special here. What is that <code>key</code> property about? It is something that tells React the exact ordering of your items. If you don&apos;t provide unique keys for list items like this, React will warn you as it won&apos;t be able to guarantee the correct ordering otherwise.</p>
<p>This has to do with the fact that React actually implements something known as Virtual DOM (VDOM for short) on top of actual DOM. It is a subset of DOM that allows React to optimize its rendering. The primary advantage of this approach is that it allows React to eschew a lot of legacy our good old DOM has gained through years. This is the secret to React&apos;s high performance.</p>
<h3 id="entire-component">Entire Component</h3>
<p>To give you a better idea of what components look like, let&apos;s expand our <code>TodoItem</code> example into code (ES6 + JSX). I&apos;ve done this below and will walk you through it:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> React = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;react&apos;</span>);


<span class="hljs-built_in">module</span>.exports = React.createClass({
    getInitialState() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-comment">// let&apos;s keep track of how many times we have liked the item</span>
            likes: <span class="hljs-number">0</span>,
        };
    },
    render() {
        <span class="hljs-keyword">var</span> owner = <span class="hljs-keyword">this</span>.props.owner;
        <span class="hljs-keyword">var</span> task = <span class="hljs-keyword">this</span>.props.task;
        <span class="hljs-keyword">var</span> likes = <span class="hljs-keyword">this</span>.state.likes;

        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;TodoItem&apos;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;TodoItem-owner&apos;</span>&gt;</span>{owner}<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;TodoItem-task&apos;</span>&gt;</span>{task}<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;TodoItem-likes&apos;</span>&gt;</span>{likes}<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;TodoItem-like&apos;</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">{this.like}</span>&gt;</span>Like<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>;</span>
    },
    like() {
        <span class="hljs-keyword">this</span>.setState({
            likes: <span class="hljs-keyword">this</span>.state.likes + <span class="hljs-number">1</span>
        });
    },
});
</code></pre>
<p>You can see some basic features of a React component above. First we create a class for our component. After that we define some initial state for it, then we render and finally we define some custom callbacks for our handlers if they exist. In this case I decided to implement an extra feature, liking. The current implementation just keeps track of the amount of likes per component.</p>
<p>In practice you would transmit like amounts to a backend and add some validation there but this is a good starting point for understanding how state works in React.</p>
<p><code>getInitialState</code> and <code>render</code> are a part of a <a href="http://facebook.github.io/react/docs/component-specs.html" target="_blank">React component&apos;s lifecycle as documented officially</a>. There are additional hooks that allow you to do things like set up adapters for <code>jQuery</code> plugins and such.</p>
<p>In this example CSS naming has been modeled after <a href="http://suitcss.github.io/" target="_blank">Suit CSS</a> conventions as those look clean to me. That&apos;s just one way to deal with it.</p>
<h3 id="dealing-with-manipulation">Dealing with Manipulation</h3>
<p>Let&apos;s say we want to modify the owner of our TodoItems. For the sake of simplicity let&apos;s expect it&apos;s just a string and owner is the same for all TodoItems. Based on this design it would make sense to have an input for owner at our user interface. A naive implementation would look something like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> React = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;react&apos;</span>);
<span class="hljs-keyword">var</span> TodoItem = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./TodoItem.jsx&apos;</span>);


<span class="hljs-built_in">module</span>.exports = React.createClass({
    getInitialState() {
        <span class="hljs-keyword">return</span> {
            todoItems: [
                {
                    task: <span class="hljs-string">&apos;Learn React&apos;</span>,
                },
                {
                    task: <span class="hljs-string">&apos;Learn Webpack&apos;</span>,
                },
                {
                    task: <span class="hljs-string">&apos;Conquer World&apos;</span>,
                }
            ],
            owner: <span class="hljs-string">&apos;John Doe&apos;</span>,
        };
    },

    render() {
        <span class="hljs-keyword">var</span> todoItems = <span class="hljs-keyword">this</span>.state.todoItems;
        <span class="hljs-keyword">var</span> owner = <span class="hljs-keyword">this</span>.state.owner;

        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;ChangeOwner&apos;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">defaultValue</span>=<span class="hljs-value">{owner}</span> <span class="hljs-attribute">onChange</span>=<span class="hljs-value">{this.updateOwner}</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;TodoItems&apos;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>{todoItems.map((todoItem, i) =&gt;
                    <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">{&apos;todoitem&apos;</span> + <span class="hljs-attribute">i</span>}&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">TodoItem</span> <span class="hljs-attribute">owner</span>=<span class="hljs-value">{owner}</span> <span class="hljs-attribute">task</span>=<span class="hljs-value">{todoItem.task}</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                )}<span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>;</span>
    },

    updateOwner() {
        <span class="hljs-keyword">this</span>.setState({
            owner: e.target.value,
        });
    },
});
</code></pre>
<p>We could push <code>TodoItems</code> and <code>ChangeOwner</code> to separate components but I&apos;ve kept it all in the same for now. Given React has one way binding by default, we get some extra noise compared to some other setups. React provides <a href="http://facebook.github.io/react/docs/two-way-binding-helpers.html" target="_blank">ReactLink</a> helper to help deal with this particular case.</p>
<p>Even though lack of two way binding might sound like a downer, it actually isn&apos;t that bad a thing. It makes it easier to reason about the system. You simply have to follow the flow. This idea is highlighted in the Flux architecture. The easiest way to visualize it is to think up an infinite waterfall or a snake eating its tail. That&apos;s how the flow in the world of React generally works. Compared to this two way binding feels more chaotic.</p>
<h3 id="using-a-mixin">Using a Mixin</h3>
<p>If we wanted to model the code above using a ReactLink, we would end up with something like this:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// ReactLink is an addon so we have to load addons</span>
<span class="hljs-keyword">var</span> React = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;react/addons&apos;</span>);

...

<span class="hljs-built_in">module</span>.exports = React.createClass({
    mixins: [React.addons.LinkedStateMixin],

    ...

    render() {
        <span class="hljs-keyword">var</span> todoItems = <span class="hljs-keyword">this</span>.state.todoItems;

        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;ChangeOwner&apos;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">valueLink</span>=<span class="hljs-value">{this.linkState(&apos;owner&apos;)}</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">className</span>=<span class="hljs-value">&apos;TodoItems&apos;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>{todoItems.map((todoItem, i) =&gt;
                    <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">key</span>=<span class="hljs-value">{&apos;todoitem&apos;</span> + <span class="hljs-attribute">i</span>}&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">TodoItem</span> <span class="hljs-attribute">owner</span>=<span class="hljs-value">{owner}</span> <span class="hljs-attribute">task</span>=<span class="hljs-value">{todoItem.task}</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                )}<span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>;</span>
    },
});
</code></pre>
<p>Now we can skip that <code>onChange</code> handler. That <code>React.addons.LinkedStateMixin</code> encapsulates the logic. <a href="http://facebook.github.io/react/docs/reusable-components.html#mixins" target="_blank">Mixins</a> provide us one way to encapsulate shared concerns such as this into something which can be reused easily.</p>
<blockquote>
<p>It would be easy to start expanding the example now. You could for instance provide means to manipulate the contents of the Todo list or start extracting various parts into components of their own. It is up to you to make the app yours. If you are still feeling a bit lost, please read on. This is supposed to be a brief introduction to the topic!</p>
</blockquote>
<h3 id="testing">Testing</h3>
<p>If you get serious about the Todo app, I recommend trying <a href="https://facebook.github.io/jest/" target="_blank">Jest</a> out. Getting the initial test run might be a bit challenging but after you learn the basics of the API, it gets a lot simpler. The basic idea is that you instantiate a component with some properties and then query DOM using Jest and finally assert that the values in the UI are what you expect.</p>
<p>When you go beyond component level, that is where tools such as Selenium come in. You can use standard end to end testing tools on a higher level.</p>
<h2 id="flux-architecture-and-variants">Flux Architecture and Variants</h2>
<p>As you saw above, it is quite simple to throw together a couple of components and start building an app. You can get quite far with <code>props</code> and <code>state</code>. Just load up some data over AJAX at <code>getInitialState</code> and pass it around. After a while this all might start feeling a bit unwieldy. Why, for instance, my components should have to know something about how to communicate with the backend?</p>
<p>This is where Flux architecture and its variants come in. I will start by describing <a href="https://github.com/spoike/refluxjs" target="_blank">Reflux</a>, a simplified variant of it. You can then work up to <a href="http://facebook.github.io/flux/docs/overview.html" target="_blank">understanding Flux</a> in fuller detail once you understand this simplified setup.</p>
<p>In addition to View Components which we just discussed, Reflux introduces the concepts of Actions and Stores. The flow goes like this: Components -&gt; Actions -&gt; Stores -&gt; Components. Ie. you could have some control in a Component which then triggers some Action which then performs some operation (say PUT) and updates Store state. This state change is then propagated to Components listening to the Store.</p>
<p>In case of our Todo example we would define basic <code>TodoActions</code> like create, update, delete and such. We would also have a <code>TodoStore</code>. It would maintain a data structure of a <code>TodoList</code>. Our components would then consume that data and display it as appropriate.</p>
<p>As development of Reflux is quite in flux I won&apos;t give you a full example in this case. I just wanted to illustrate one possible way to deal with scaling up from bare React. You should explore various options and deepen your understanding of possible architectures. The ideas are quite similar but the devil is in the details as always. There are always drawbacks to consider.</p>
<h3 id="isomorphic-rendering">Isomorphic Rendering</h3>
<p>One of the big features which React provides thanks to its design is so called isomorphic rendering. Back in the day we used to render whole HTML in the backend and provide just that for the client to render. Then we would sprinkle a little JavaScript magic to make things more interactive and so on. After a while the pendulum swung to frontend side. We served minimal amount of HTML to the client and constructed the rest, including routing, using JavaScript entirely on frontend.</p>
<p>The main problems with frontend driven rendering have to do with performance, high dependency on JavaScript (think of the noscript folk!) and poor SEO. With isomorphic rendering you can mitigate these problems effectively. React allows you to prerender HTML at backend side. You can also hydrate some stores with pre-existing data making it possible to skip certain data queries altogether initially! Even web crawlers will be happy as they get some HTML to scrape.</p>
<p>This is still partly uncharted territory. Various implementations of Flux still struggle with the concept. I have no doubt we will see stronger solutions in the future, however, as people learn to deal with isomorphism better. That said isomorphic rendering can be considered a nice extra capability to have but it definitely isn&apos;t something that&apos;s just must have. There are some ways to work around certain issues, such as poor SEO, even without it. It just depends on where you want to put the effort.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./Requiring-files.html" class="navigation navigation-prev " aria-label="Previous page: Requiring files"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./Configuring-react-js.html" class="navigation navigation-next " aria-label="Next page: Configuring React JS"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
